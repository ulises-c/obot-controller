#include "param_obot_g474_h2.h"
#include "math.h"
const volatile Param __attribute__ ((section ("flash_param"))) param_store = {
.fast_loop_param.motor_encoder.dir = -1,
.fast_loop_param.motor_encoder.cpr = 4096,
.fast_loop_param.motor_encoder.use_index_electrical_offset_pos = 1,
.fast_loop_param.motor_encoder.rollover = pow(2,23),
.fast_loop_param.motor_encoder.index_electrical_offset_pos = 0,
.fast_loop_param.foc_param.pi_d.kp = 10,
.fast_loop_param.foc_param.pi_d.ki = 6.5,
.fast_loop_param.foc_param.pi_d.ki_limit = 10,
.fast_loop_param.foc_param.pi_d.command_max = 20,
.fast_loop_param.foc_param.pi_q.kp = 10,
.fast_loop_param.foc_param.pi_q.ki = 6.5,
.fast_loop_param.foc_param.pi_q.ki_limit = 10,
.fast_loop_param.foc_param.pi_q.command_max = 20,
.fast_loop_param.foc_param.current_filter_frequency_hz = 5000,
.fast_loop_param.foc_param.num_poles = 1,
.fast_loop_param.adc2_gain = 3.3/4096*(9200.0/3000.0),
.fast_loop_param.adc1_gain = 3.3/4096*(9200.0/3000.0),
.fast_loop_param.adc3_gain = 3.3/4096*(9200.0/3000.0),
.fast_loop_param.vbus_gain = 1.0/4096*(470+24)/24,
.fast_loop_param.current_direction = 1,
.fast_loop_param.phase_mode = 0,
.fast_loop_param.beep_amplitude = 0.1,
.fast_loop_param.beep_frequency = 523.25,
.main_loop_param.position_controller_param.position.kd = 0.01,
.main_loop_param.position_controller_param.position.kp = 5.0,
.main_loop_param.position_controller_param.position.velocity_filter_frequency_hz = 5000,
.main_loop_param.position_controller_param.position.command_max = 0.5,
.main_loop_param.position_controller_param.position.output_filter_frequency_hz = 5000,
.main_loop_param.motor_temperature_model.resistance = 11.8,
.main_loop_param.motor_temperature_model.Rth = 40,
.main_loop_param.motor_temperature_model.Cp = 15,
.main_loop_param.state_controller_param.command_max = 0.5,
.main_loop_param.state_controller_param.output_filter_frequency_hz = 5000,
.main_loop_param.state_controller_param.velocity_filter_frequency_hz = 5000,
.main_loop_param.state_controller_param.torque_filter_frequency_hz = 5000,
.main_loop_param.state_controller_param.torque_dot_filter_frequency_hz = 5000,
.main_loop_param.velocity_controller_param.velocity.ki = 0.5,
.main_loop_param.velocity_controller_param.velocity.kp = 0.002,
.main_loop_param.velocity_controller_param.velocity.ki_limit = 0.25,
.main_loop_param.velocity_controller_param.velocity.output_filter_frequency_hz = 5000,
.main_loop_param.velocity_controller_param.velocity.command_max = 0.5,
.main_loop_param.velocity_controller_param.acceleration_limit = 1000,
.main_loop_param.host_timeout = 0,    // control loop cycles at 10 kHz. For example 100 would set a 10 ms timeout,
.main_loop_param.safe_mode = OPEN,
.main_loop_param.error_mask.all = ERROR_MASK_ALL,
.main_loop_param.vbus_min = 20,
.main_loop_param.safe_mode_driver_disable = 0,
.main_loop_param.no_latch_driver_fault = 1,
.startup_param.gear_ratio = 100,
.startup_param.phase_lock_current = 0.1,
.startup_param.do_phase_lock = 0,
.startup_param.phase_lock_duration = 2,
.startup_param.startup_mode = OPEN,
.startup_param.no_driver_enable = 0,
.startup_param.no_zero_current_sensors = 0,
.startup_param.motor_encoder_startup = ENCODER_BIAS,
.startup_param.motor_encoder_bias = 0.0,
.git_hash = GIT_HASH,
.name = "right_index_finger",
};